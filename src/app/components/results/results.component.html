<div class="min-h-screen bg-linear-to-br from-slate-600 via-slate-500 to-slate-400 py-8 px-4" *ngIf="recommendation">
  <div class="max-w-6xl mx-auto"> 
    <div class="bg-white rounded-xl shadow-2xl p-8 mb-6 text-center">
      <h1 class="text-5xl font-bold text-slate-800 mb-4">
        {{ recommendation.sport }}
      </h1>

      <div class="flex items-center justify-center mb-4">
        <div class="bg-slate-700 text-white px-6 py-3 rounded-lg text-xl font-semibold">
          {{ 'RESULTS.COMPATIBILITY_SCORE' | translate }}: {{ recommendation.score }}%
        </div>
      </div>
      <p class="text-xl text-slate-600 italic">
        {{ recommendation.reason }}
      </p>
    </div>

    <div *ngIf="recommendation.alternatives && recommendation.alternatives.length > 0" class="mb-6 text-center">
      <button
        (click)="toggleComparison()"
        class="bg-slate-700 hover:bg-slate-800 hover:cursor-pointer text-white px-8 py-3 rounded-lg text-lg font-semibold shadow-lg hover:shadow-xl transition-all">
        {{ showComparison ? ('COMPARISON.HIDE' | translate) : ('COMPARISON.SHOW' | translate) }}
      </button>
    </div>

    <div *ngIf="showComparison && recommendation.alternatives && recommendation.alternatives.length > 0" class="mb-6">
      <app-sport-comparison 
        [mainSport]="recommendation" 
        [alternatives]="recommendation.alternatives">
      </app-sport-comparison>
    </div>

    <div class="bg-white rounded-xl shadow-xl p-8 mb-6">
      <h2 class="text-3xl font-bold text-slate-800 mb-4 flex items-center">
        <span class="mr-3">üí°</span> {{ 'RESULTS.WHY_TITLE' | translate }}
      </h2>
      <p class="text-lg text-slate-700 leading-relaxed">
        {{ recommendation.explanation }}
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 mb-6">
      <div class="bg-white rounded-xl shadow-xl p-6 border-l-4 border-emerald-600">
        <h3 class="text-2xl font-bold text-emerald-700 mb-4 flex items-center">
          <span class="mr-2">‚úÖ</span> {{ 'RESULTS.BENEFITS_TITLE' | translate }}
        </h3>
        <ul class="space-y-3">
          <li *ngFor="let benefit of recommendation.benefits" class="flex items-start">
            <span class="text-emerald-600 mr-3 text-xl">‚Ä¢</span>
            <span class="text-slate-700">{{ benefit }}</span>
          </li>
        </ul>
      </div>

      <div class="bg-white rounded-xl shadow-xl p-6 border-l-4 border-amber-500">
        <h3 class="text-2xl font-bold text-amber-700 mb-4 flex items-center">
          <span class="mr-2">‚ö†Ô∏è</span> {{ 'RESULTS.PRECAUTIONS_TITLE' | translate }}
        </h3>
        <ul class="space-y-3">
          <li *ngFor="let precaution of recommendation.precautions" class="flex items-start">
            <span class="text-amber-600 mr-3 text-xl">‚Ä¢</span>
            <span class="text-slate-700">{{ precaution }}</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-xl p-8 mb-6">
      <h2 class="text-3xl font-bold text-slate-800 mb-6 flex items-center">
        <span class="mr-3">üèãÔ∏è</span> {{ 'RESULTS.EXERCISES_TITLE' | translate }}
      </h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div *ngFor="let exercise of recommendation.exercises" 
             class="bg-slate-50 rounded-xl p-6 border-2 border-slate-200 hover:shadow-lg hover:border-slate-400 transition-all">
          
          <h4 class="text-xl font-bold text-slate-800 mb-3">
            {{ exercise.name }}
          </h4>
          
          <p class="text-slate-600 mb-4">
            {{ exercise.description }}
          </p>
          
          <div class="space-y-2 text-sm">
            <p *ngIf="exercise.duration" class="text-slate-700">
              <span class="font-semibold">‚è±Ô∏è {{ 'RESULTS.DURATION' | translate }}:</span> {{ exercise.duration }}
            </p>
            <p *ngIf="exercise.repetitions" class="text-slate-700">
              <span class="font-semibold">üîÑ {{ 'RESULTS.REPETITIONS' | translate }}:</span> {{ exercise.repetitions }}
            </p>
          </div>

          <div *ngIf="exercise.videoUrl" class="mt-4">
            <a [href]="exercise.videoUrl" 
               target="_blank"
               class="inline-flex items-center bg-slate-700 hover:bg-slate-800 text-white px-4 py-2 rounded-lg transition-colors">
              <span class="mr-2">‚ñ∂Ô∏è</span> {{ 'RESULTS.WATCH_VIDEO' | translate }}
            </a>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="recommendation.trainingPlan" class="mb-6">
      <app-training-plan [trainingPlan]="recommendation.trainingPlan"></app-training-plan>
    </div>

    <div class="bg-white rounded-xl shadow-xl p-8 mb-6">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-3xl font-bold text-slate-800 flex items-center">
          <span class="mr-3">üéØ</span> {{ 'RESULTS.WHAT_NOW_TITLE' | translate }}
        </h2>
        <button (click)="toggleNextSteps()" 
                class="text-slate-500 hover:text-slate-700">
          {{ showNextSteps ? '‚ñ≤' : '‚ñº' }}
        </button>
      </div>
      
      <div *ngIf="showNextSteps" class="space-y-6">
        <div class="bg-emerald-50 rounded-xl p-6 border-l-4 border-emerald-500">
          <h3 class="text-xl font-bold text-emerald-800 mb-3">
            üìÖ {{ 'RESULTS.WEEK1_TITLE' | translate }}
          </h3>
          <ul class="space-y-2 text-emerald-700">
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK1_STEP1' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK1_STEP2' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK1_STEP3' | translate }}
            </li>
          </ul>
        </div>

        <div class="bg-blue-50 rounded-xl p-6 border-l-4 border-blue-500">
          <h3 class="text-xl font-bold text-blue-800 mb-3">
            üèÉ {{ 'RESULTS.WEEK2_TITLE' | translate }}
          </h3>
          <ul class="space-y-2 text-blue-700">
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK2_STEP1' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK2_STEP2' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK2_STEP3' | translate }}
            </li>
          </ul>
        </div>

        <div class="bg-purple-50 rounded-xl p-6 border-l-4 border-purple-500">
          <h3 class="text-xl font-bold text-purple-800 mb-3">
            üìà {{ 'RESULTS.WEEK3_TITLE' | translate }}
          </h3>
          <ul class="space-y-2 text-purple-700">
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK3_STEP1' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK3_STEP2' | translate }}
            </li>
            <li class="flex items-start">
              <span class="mr-2">‚úì</span>
              {{ 'RESULTS.WEEK3_STEP3' | translate }}
            </li>
          </ul>
        </div>

        <div class="bg-slate-100 rounded-xl p-6">
          <h3 class="text-lg font-bold text-slate-700 mb-4">
            üîó {{ 'RESULTS.USEFUL_LINKS' | translate }}
          </h3>
          <div class="grid md:grid-cols-2 gap-4">
            <a href="https://www.decathlon.fr/" target="_blank" 
               class="bg-white rounded-lg p-4 hover:shadow-md transition-all flex items-center">
              <span class="text-2xl mr-3">üõí</span>
              <div>
                <p class="font-medium text-slate-700">Decathlon</p>
                <p class="text-sm text-slate-500">{{ 'RESULTS.LINK_EQUIPMENT' | translate }}</p>
              </div>
            </a>
            <a href="https://www.youtube.com/results?search_query=d√©butant+sport" target="_blank" 
               class="bg-white rounded-lg p-4 hover:shadow-md transition-all flex items-center">
              <span class="text-2xl mr-3">üì∫</span>
              <div>
                <p class="font-medium text-slate-700">YouTube</p>
                <p class="text-sm text-slate-500">{{ 'RESULTS.LINK_TUTORIALS' | translate }}</p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-amber-50 border-2 border-amber-300 rounded-xl p-6 mb-6">
      <div class="flex items-start">
        <span class="text-2xl mr-3">‚ö†Ô∏è</span>
        <div>
          <h3 class="font-bold text-amber-800 mb-1">{{ 'RESULTS.DISCLAIMER_TITLE' | translate }}</h3>
          <p class="text-amber-700 text-sm">{{ 'RESULTS.DISCLAIMER_TEXT' | translate }}</p>
        </div>
      </div>
    </div>

    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6">
      <button
        (click)="printResults()"
        class="bg-white text-slate-700 px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:bg-slate-50 transition-all hover:cursor-pointer flex items-center justify-center gap-2">
        üñ®Ô∏è {{ 'RESULTS.PRINT' | translate }}
      </button>
      <button
        (click)="shareResults()"
        class="bg-white text-slate-700 px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:bg-slate-50 transition-all hover:cursor-pointer flex items-center justify-center gap-2">
        üì§ {{ 'RESULTS.SHARE' | translate }}
      </button>
    </div>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <button
        (click)="backToForm()"
        class="bg-white text-slate-700 px-8 py-4 rounded-lg text-lg font-semibold shadow-lg hover:shadow-xl hover:bg-slate-50 transition-all hover:cursor-pointer duration-300">
        üîÑ {{ 'RESULTS.RETRY_TEST' | translate }}
      </button>
      <button
        (click)="backToHome()"
        class="bg-slate-700 hover:bg-slate-800 text-white px-8 py-4 rounded-lg text-lg font-semibold shadow-lg hover:shadow-xl transition-all hover:cursor-pointer duration-300">
        üè† {{ 'RESULTS.BACK_HOME' | translate }}
      </button>
    </div>

  </div>
</div>

<div *ngIf="!recommendation" class="min-h-screen bg-slate-100 flex items-center justify-center">
  <div class="bg-white rounded-xl shadow-xl p-8 text-center">
    <p class="text-xl text-slate-700 mb-4">{{ 'RESULTS.REDIRECTING' | translate }}</p>
  </div>
</div>
